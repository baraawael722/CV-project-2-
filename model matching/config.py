"""
Ù…Ù„Ù Ø§Ù„ØªÙƒÙˆÙŠÙ† (Configuration) Ù„Ù„Ù†Ù…ÙˆØ°Ø¬
ÙŠÙ…ÙƒÙ†Ùƒ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ù† Ù‡Ù†Ø§ Ø¨Ø³Ù‡ÙˆÙ„Ø©
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MODEL_CONFIG = {
    # Ù†Ù…ÙˆØ°Ø¬ BERT Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
    # Ø®ÙŠØ§Ø±Ø§Øª:
    # - 'all-MiniLM-L6-v2' (Ø³Ø±ÙŠØ¹ØŒ 384 dim) â­ Ù…ÙˆØµÙ‰ Ø¨Ù‡
    # - 'all-mpnet-base-v2' (Ø£ÙØ¶Ù„ Ø¯Ù‚Ø©ØŒ 768 dimØŒ Ø£Ø¨Ø·Ø£)
    # - 'paraphrase-multilingual-MiniLM-L12-v2' (Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª)
    'sentence_transformer_model': 'all-MiniLM-L6-v2',
    
    # Ø£Ø¨Ø¹Ø§Ø¯ Ø§Ù„Ø·Ø¨Ù‚Ø§Øª Ø§Ù„Ù…Ø®ÙÙŠØ©
    'hidden_dims': [512, 256, 128],
    
    # Ù…Ø¹Ø¯Ù„ Dropout (Ù„Ù…Ù†Ø¹ Overfitting)
    # 0.2 = Ø®ÙÙŠÙØŒ 0.3 = Ù…ØªÙˆØ³Ø· â­ØŒ 0.5 = Ø¹Ø§Ù„ÙŠ
    'dropout': 0.3,
    
    # Ø¹Ø¯Ø¯ Ø±Ø¤ÙˆØ³ Attention
    'attention_heads': 4,
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

TRAINING_CONFIG = {
    # Ø¹Ø¯Ø¯ Ø§Ù„Ù€ Epochs
    # 30 = Ø³Ø±ÙŠØ¹ØŒ 50 = Ù…ØªÙˆØ³Ø· â­ØŒ 100 = Ø¨Ø·ÙŠØ¡ Ù„ÙƒÙ† Ø£ÙØ¶Ù„
    'epochs': 50,
    
    # Ø­Ø¬Ù… Ø§Ù„Ù€ Batch
    # 16 = Ø°Ø§ÙƒØ±Ø© Ù‚Ù„ÙŠÙ„Ø©ØŒ 32 = Ù…ØªÙˆØ³Ø· â­ØŒ 64 = Ø°Ø§ÙƒØ±Ø© ÙƒØ¨ÙŠØ±Ø©
    'batch_size': 32,
    
    # Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ¹Ù„Ù…
    # 0.0001 = Ø¨Ø·ÙŠØ¡ØŒ 0.001 = Ù…ØªÙˆØ³Ø· â­ØŒ 0.01 = Ø³Ø±ÙŠØ¹
    'learning_rate': 0.001,
    
    # Ù†Ø³Ø¨Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù€ Validation
    'validation_split': 0.2,
    
    # Ø¹Ø¯Ø¯ Ø§Ù„Ø¹ÙŠÙ†Ø§Øª Ù„Ù„ØªØ¯Ø±ÙŠØ¨ (None = Ø§Ù„ÙƒÙ„)
    'sample_size': 10000,
    
    # Early Stopping Patience
    # Ø¹Ø¯Ø¯ Ø§Ù„Ù€ epochs Ù‚Ø¨Ù„ Ø§Ù„ØªÙˆÙ‚Ù Ø¥Ø°Ø§ Ù„Ù… ÙŠØªØ­Ø³Ù† Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
    'early_stopping_patience': 10,
    
    # Weight Decay (L2 Regularization)
    'weight_decay': 0.01,
    
    # Gradient Clipping
    'max_grad_norm': 1.0,
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DATA_CONFIG = {
    # Ù…Ù„ÙØ§Øª Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    'cvs_file': 'dataa.csv',
    'jobs_file': 'jobs_clean.csv',
    
    # Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø¯Ø©
    'cv_category_column': 'Category',
    'cv_text_column': 'Resume',
    'job_title_column': 'Job Title',
    'job_description_column': 'job_description_clean',
    
    # Ø­Ø¯ Ø£Ù‚ØµÙ‰ Ù„Ø·ÙˆÙ„ Ø§Ù„Ù†Øµ (Ø¨Ø§Ù„Ø£Ø­Ø±Ù)
    'max_text_length': None,  # None = Ø¨Ø¯ÙˆÙ† Ø­Ø¯
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­ÙØ¸ ÙˆØ§Ù„ØªØ­Ù…ÙŠÙ„
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SAVE_CONFIG = {
    # Ø§Ø³Ù… Ù…Ù„Ù Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ù…Ø­ÙÙˆØ¸
    'model_filename': 'cv_job_matcher_final.pkl',
    
    # Ø­ÙØ¸ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø¨Ø¹Ø¯ ÙƒÙ„ Epoch
    'save_every_epoch': False,
    
    # Ø­ÙØ¸ Ø£ÙØ¶Ù„ Ù†Ù…ÙˆØ°Ø¬ ÙÙ‚Ø·
    'save_best_only': True,
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø¯Ø§Ø¡
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PERFORMANCE_CONFIG = {
    # Ø§Ø³ØªØ®Ø¯Ø§Ù… GPU Ø¥Ø°Ø§ ÙƒØ§Ù† Ù…ØªØ§Ø­Ø§Ù‹
    'use_gpu': True,
    
    # Ø¹Ø¯Ø¯ Ø§Ù„Ù€ Workers Ù„Ù„Ù€ DataLoader
    # 0 = Ø¨Ø¯ÙˆÙ† multiprocessingØŒ 2-4 = Ø£Ø³Ø±Ø¹
    'num_workers': 0,
    
    # Ø­Ø¬Ù… Ø§Ù„Ù€ Batch Ù„Ù„Ù€ Embeddings
    'embedding_batch_size': 32,
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© (Inference)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

MATCHING_CONFIG = {
    # Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ù‚ØªØ±Ø­Ø©
    'default_top_k': 10,
    
    # Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù†Ø³Ø¨Ø© Ø§Ù„ØªØ·Ø§Ø¨Ù‚
    'min_similarity_threshold': 0.0,  # 0-100
    
    # Ø¥Ø¸Ù‡Ø§Ø± Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
    'show_progress_bar': True,
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ÙˆØ¶Ø¹ Debug
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

DEBUG_CONFIG = {
    # Ø·Ø¨Ø§Ø¹Ø© Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
    'verbose': True,
    
    # Ø­ÙØ¸ Ø³Ø¬Ù„Ø§Øª Ø§Ù„ØªØ¯Ø±ÙŠØ¨
    'save_training_logs': True,
    
    # Ø§Ø³Ù… Ù…Ù„Ù Ø§Ù„Ø³Ø¬Ù„Ø§Øª
    'log_filename': 'training_logs.txt',
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¯Ø§Ù„Ø© Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def get_all_configs():
    """
    Ø¥Ø±Ø¬Ø§Ø¹ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙÙŠ dictionary ÙˆØ§Ø­Ø¯
    """
    return {
        'model': MODEL_CONFIG,
        'training': TRAINING_CONFIG,
        'data': DATA_CONFIG,
        'save': SAVE_CONFIG,
        'performance': PERFORMANCE_CONFIG,
        'matching': MATCHING_CONFIG,
        'debug': DEBUG_CONFIG,
    }


def print_config():
    """
    Ø·Ø¨Ø§Ø¹Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    """
    import json
    
    print("\n" + "="*60)
    print("âš™ï¸ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø­Ø§Ù„ÙŠØ©")
    print("="*60)
    
    all_configs = get_all_configs()
    
    for category, config in all_configs.items():
        print(f"\nğŸ“‹ {category.upper()}:")
        print("-" * 60)
        for key, value in config.items():
            print(f"  {key}: {value}")
    
    print("\n" + "="*60)


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø³Ø¨Ù‚Ø© (Presets)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PRESETS = {
    'fast': {
        'description': 'ØªØ¯Ø±ÙŠØ¨ Ø³Ø±ÙŠØ¹ (Ø¯Ù‚Ø© Ù…ØªÙˆØ³Ø·Ø©)',
        'epochs': 20,
        'batch_size': 64,
        'sample_size': 5000,
        'hidden_dims': [256, 128],
        'dropout': 0.3,
    },
    
    'balanced': {
        'description': 'Ù…ØªÙˆØ§Ø²Ù† (Ø¯Ù‚Ø© Ø¬ÙŠØ¯Ø©ØŒ Ø³Ø±Ø¹Ø© Ø¬ÙŠØ¯Ø©) â­',
        'epochs': 50,
        'batch_size': 32,
        'sample_size': 10000,
        'hidden_dims': [512, 256, 128],
        'dropout': 0.3,
    },
    
    'high_accuracy': {
        'description': 'Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ© (Ø¨Ø·ÙŠØ¡)',
        'epochs': 100,
        'batch_size': 16,
        'sample_size': None,
        'hidden_dims': [768, 512, 256, 128],
        'dropout': 0.4,
        'sentence_transformer_model': 'all-mpnet-base-v2',
    },
}


def apply_preset(preset_name):
    """
    ØªØ·Ø¨ÙŠÙ‚ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ù…Ø³Ø¨Ù‚Ø©
    
    Args:
        preset_name: 'fast', 'balanced', or 'high_accuracy'
    """
    if preset_name not in PRESETS:
        print(f"âŒ Preset '{preset_name}' ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯!")
        print(f"âœ… Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©: {', '.join(PRESETS.keys())}")
        return
    
    preset = PRESETS[preset_name]
    print(f"\nâœ… ØªØ·Ø¨ÙŠÙ‚ Preset: {preset_name}")
    print(f"ğŸ“ {preset['description']}\n")
    
    # ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
    for key, value in preset.items():
        if key == 'description':
            continue
        
        # ØªØ­Ø¯ÙŠØ¯ ÙÙŠ Ø£ÙŠ config ÙŠØ¬Ø¨ Ø§Ù„ØªØ­Ø¯ÙŠØ«
        if key in MODEL_CONFIG:
            MODEL_CONFIG[key] = value
        elif key in TRAINING_CONFIG:
            TRAINING_CONFIG[key] = value
    
    print("âœ… ØªÙ… ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª!")


if __name__ == "__main__":
    # Ø·Ø¨Ø§Ø¹Ø© Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©
    print_config()
    
    # Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ ØªØ·Ø¨ÙŠÙ‚ preset
    print("\n\n" + "="*60)
    print("ğŸ’¡ Ù…Ø«Ø§Ù„ Ø¹Ù„Ù‰ Ø§Ø³ØªØ®Ø¯Ø§Ù… Presets:")
    print("="*60)
    
    print("\n1. Fast Mode:")
    apply_preset('fast')
    
    print("\n2. Balanced Mode (Default):")
    apply_preset('balanced')
    
    print("\n3. High Accuracy Mode:")
    apply_preset('high_accuracy')
